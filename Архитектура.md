# Архитектура программного комплекса

Программный комплекс предназначен для визуального представления социального графа, анализа графов различных пользователей, автоматизированного размещения вершин и связей между вершинами.

## Составляющие программного комплекса

1. Модуль преобразования данных из источника (загрузка данных)
2. Модуль алгоритмов анализа(анализ общих интересов. предложение дружбы по интересам)
3. Модуль авторазмещения(обновление графа)
4. Модуль визуализации графов
5. Хранилище графов
6. Хранилище визуализации графов

### Загрузка данных
Из источников (таблицы Excel, реляционные БД, текстовые документы) извлекаются структурированные данные, которые преобразуются в граф и сохраняютс в файловой системе хранилища графов.

### Анализ графов
Реализуется алгоритм выделения подграфов из графа на основе поисков в ширину и на заданную глубину от вершины заданного пользователя.
Также возможно выделять подграфы по заданным фильтрам, обьединения и пересечения графов.

### Обновление графа
Пусть V - множество вершин графа, E - множество ребер графа

Все вершины и связи хранятся в сбалансированных деревьях поиска, поэтому оценки времени работы имеют логарифмическую сложность

Асимптотика:
> Добавление связи: O(log(E));

> Удаление связи: O(log(E));

> Поиск связи: O(log(E));

> Добавление вершины: O(log(V));

> Удаление вершины: O(log(V));

> Поиск вершины: O(log(V)).

### Хранение графов
Имеется 2 режима хранения графа:
> Базовое хранение (хранение графов большого размера);

> Локальное хранение (хранение подграфов, полученных запросами к базовым графам).


## Сущности
### Сущность-вершина для пользователя
|Vertex-user |
|------------|
|id     	 |
|Name   	 |
|data 		 |

### Сущность-вершина для видео
|Vertex-video|
|------------|
|id     	   |
|Title   	   |
|Claster	   |

### Сущность-ребро 
|edge	|
|-----|
|id   |
|type   |
|date 	|

### Виды типов для ребра
* пользователь-видео
* пользователь-пользователь
* видео-видео

## API
### метод просмотра видео

|параметры|
|---------|
|id_user|
|id_video|

### метод добавления/удаления друга 
|параметры|
|---------|
|id_user1|
|id_user2|

### метод рекомендации друзей/видео
|параметры|
|---------|
|id_user|

#### ответ для друзей
|параметр|
|---------|
|list_user|

#### ответ для видео
|параметр|
|---------|
|list_video|
